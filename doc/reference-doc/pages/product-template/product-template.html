<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIP - Enterprise Autonomy</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap');
        
        :root {
            --bg-dark: #1E1F2B;
            --bg-light: #f2f2f2;
            --text-main: #1E1F2B;
            --text-muted: #454256;
            --accent-gradient: linear-gradient(93.94deg, #9881F3 0%, #13C9BA 100%);
        }

        body {
            font-family: 'Segoe UI', 'Inter', sans-serif;
            background-color: var(--bg-light);
            color: var(--text-main);
            overflow-x: hidden;
            margin: 0;
        }

        /* =========================================
           1. Hero Section (Underlayer)
           ========================================= */
        .sticky-hero {
            position: sticky;
            top: 0;
            height: 100vh;
            z-index: 0;
            overflow: hidden;
            background-color: var(--bg-dark);
        }

        .hero-video {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -1;
        }

        .hero-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.9) 10%, rgba(0,0,0,0.2) 60%, rgba(0,0,0,0.1) 100%);
            z-index: 0;
        }

        .aip-logo-container {
            display: flex;
            align-items: flex-end;
            margin-bottom: -2vw; 
        }

        .aip-text {
            font-size: 20vw; 
            line-height: 0.8;
            font-weight: 700;
            letter-spacing: -0.05em;
            color: white;
            display: flex;
            align-items: center;
        }
        
        .aip-icon {
            width: 12vw;
            height: 12vw;
            margin-right: 1vw;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .icon-part {
            position: absolute;
            background-color: white;
        }
        .icon-part.sq-tr { top: 15%; right: 15%; width: 30%; height: 30%; }
        .icon-part.main-shape {
             bottom: 15%; left: 15%; width: 65%; height: 65%;
             clip-path: polygon(0 0, 40% 0, 40% 40%, 100% 40%, 100% 100%, 0 100%);
        }

        .hero-metadata-refined {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
            font-size: 0.6rem;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            text-align: right;
            border-left: 1px solid rgba(255,255,255,0.2);
            padding-left: 1rem;
            color: rgba(255,255,255,0.7);
            max-width: 180px;
        }


        /* =========================================
           2. Section B: Narrative Track (Overlayer)
           ========================================= */
        .narrative-track {
            position: relative;
            z-index: 10;
            height: 350vh; 
            background-color: var(--bg-dark); 
            box-shadow: 0 -50px 100px rgba(0,0,0,0.5); 
            margin-top: -1px; 
            transition: background-color 0.3s linear;
        }

        .sticky-stage {
            position: sticky;
            top: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            width: 100%;
            perspective: 1000px;
        }

        /* Animation Classes */
        .char {
            display: inline-block;
            opacity: 0;
            transform: translateY(100px) rotateX(20deg); 
            transition: opacity 0.6s cubic-bezier(0.2, 0.65, 0.3, 0.9), 
                        transform 0.8s cubic-bezier(0.2, 0.65, 0.3, 0.9);
            will-change: opacity, transform;
        }
        .revealed .char {
            opacity: 1;
            transform: translateY(0) rotateX(0deg);
        }

        .block-anim {
            opacity: 0;
            transform: translateY(40px);
            transition: opacity 0.8s cubic-bezier(0.2, 0.65, 0.3, 0.9), 
                        transform 0.8s cubic-bezier(0.2, 0.65, 0.3, 0.9);
            will-change: opacity, transform;
        }
        .block-anim.revealed {
            opacity: 1;
            transform: translateY(0);
        }

        #anim-text-2 {
            position: relative;
            color: #1E1F2B;
            z-index: 1;
        }

        #anim-text-2::before {
            content: attr(data-text);
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            z-index: 2;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            opacity: 0;
            transition: opacity 1.5s ease-in-out;
            pointer-events: none;
        }

        #anim-text-2.gradient-active::before {
            opacity: 1;
        }

        .custom-chevron {
            width: 24px;
            height: 24px;
            border-bottom: 2px solid #1E1F2B;
            border-right: 2px solid #1E1F2B;
            transform: rotate(45deg);
            margin-top: -10px;
        }
        .chevron-stem {
            width: 2px;
            height: 30px;
            background-color: #1E1F2B;
            margin-bottom: -5px;
        }

        /* =========================================
           3. Content Section (Section 3)
           ========================================= */
        .main-content {
            position: relative;
            z-index: 10;
            background-color: var(--bg-light);
        }

        /* NEW STYLES FOR INDEX ANIMATION (Reversible)
        */
        
        .sticky-feature-header {
            position: sticky;
            top: 8rem; 
            z-index: 20;
        }

        /* 1. Container Fade/Slide Logic */
        .index-anim-container {
            opacity: 0;
            transform: translateY(-10px);
            /* EXIT TRANSITION: Fast & clean when leaving */
            transition: opacity 0.4s ease-out, transform 0.4s ease-out;
        }
        
        /* ENTER TRANSITION: Slower & smoother when active */
        .feature-active .index-anim-container {
            opacity: 1;
            transform: translateY(0);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }

        /* 2. Line Growth Logic */
        .index-line {
            transform: scaleX(0);
            transform-origin: left;
            /* EXIT TRANSITION: Shrink quickly */
            transition: transform 0.5s ease-out; 
        }
        
        /* ENTER TRANSITION: Grow elegantly with delay */
        .feature-active .index-line {
            transform: scaleX(1);
            transition: transform 1s cubic-bezier(0.22, 1, 0.36, 1);
            transition-delay: 0.2s; /* Wait for container to start appearing */
        }


        .toggle-pill {
            border: 1px solid #AAAAAA;
            border-radius: 9999px;
            display: inline-flex;
            padding: 3px;
        }
        .toggle-option {
            padding: 6px 24px;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            cursor: pointer;
        }
        .toggle-option.active { background-color: #1E1F2B; color: #f2f2f2; }
        .toggle-option.inactive { color: #1E1F2B; }

    </style>
</head>
<body class="antialiased">

    <!-- Section A: The Hero -->
    <header class="sticky-hero">
        <video autoplay muted loop playsinline class="hero-video">
            <source src="https://assets.codepen.io/6093409/river.mp4" type="video/mp4">
        </video>
        <div class="hero-overlay"></div>

        <div class="relative z-10 h-full max-w-[1600px] mx-auto px-6 md:px-12 lg:px-24 flex flex-col justify-end pb-16">
            <div class="flex flex-col md:flex-row justify-between items-end w-full">
                <div class="mb-8 md:mb-0 aip-logo-container">
                    <div class="aip-text">
                        <div class="aip-icon">
                            <div class="icon-part sq-tr"></div>
                            <div class="icon-part main-shape"></div>
                        </div>
                        AIP
                    </div>
                </div>
                <div class="hero-metadata-refined hidden md:flex">
                    <div class="metadata-item">Explore our artificial<br/>intelligence platform</div>
                    <div class="metadata-item">Integrate AI into<br/>operational decision making</div>
                    <div class="metadata-item" style="opacity: 0.5; margin-top: 1rem;">COPYRIGHT ©2024<br/>PALANTIR TECHNOLOGIES INC.</div>
                </div>
            </div>
        </div>
    </header>

    <!-- Section B: The Narrative Track -->
    <section class="narrative-track" id="narrativeTrack">
        <div class="sticky-stage">
            <div class="max-w-5xl mx-auto px-6 text-center z-10 flex flex-col items-center justify-center h-full">
                <h2 id="anim-text-1" class="text-6xl md:text-9xl font-light leading-none tracking-tighter mb-4 text-white transition-colors duration-500">
                    Go beyond chat.
                </h2>
                <div id="anim-text-2" data-text="Enterprise Autonomy" class="block-anim text-6xl md:text-9xl font-normal tracking-tighter pb-4 leading-none">
                    Enterprise Autonomy
                </div>
                <div id="anim-group-bottom" class="block-anim mt-32 flex flex-col items-center gap-6">
                    <p class="text-gray-500 text-lg md:text-xl font-normal max-w-xl mx-auto leading-relaxed text-center">
                        Turn AI in your Applications<br/>
                        <span class="text-gray-800 font-medium">into Agents and Automations</span>
                    </p>
                    <div class="flex flex-col items-center mt-2">
                        <div class="chevron-stem"></div>
                        <div class="custom-chevron"></div>
                    </div>
                    <span class="text-[10px] uppercase tracking-[0.2em] text-[#1E1F2B]">Scroll to explore</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Section C: Feature Content (Section 3) -->
    <main class="main-content">
        
        <!-- =======================
             Feature 0.1: Workflow
             ======================= -->
        <div id="feature-1" class="feature-block py-24 px-6 md:px-12 lg:px-24 border-b border-[#DEDEDE]/50 min-h-screen flex items-center">
            <div class="max-w-[1600px] mx-auto w-full">
                <div class="grid grid-cols-1 lg:grid-cols-12 gap-12 lg:gap-24">
                    
                    <!-- Left Column: Sticky Wrapper -->
                    <div class="lg:col-span-5 relative h-full">
                        <div class="sticky-feature-header flex flex-col gap-8">
                            
                            <div class="index-anim-container flex items-center w-full text-lg md:text-xl font-light text-[#454256] select-none">
                                <span class="text-[#1E1F2B] font-medium mr-4">[0.1]</span>
                                <!-- Animated Line -->
                                <div class="index-line h-px bg-[#1E1F2B] flex-grow mx-4 opacity-50 origin-left"></div>
                                <div class="flex items-center gap-2 opacity-50 text-sm md:text-lg">
                                    <span>0.2</span>
                                    <span class="w-3 h-px bg-current"></span>
                                    <span>0.3</span>
                                    <span class="w-3 h-px bg-current"></span>
                                    <span>0.4</span>
                                </div>
                            </div>

                            <h3 class="text-5xl md:text-6xl lg:text-7xl text-[#1E1F2B] leading-[1.05] tracking-tight">
                                Designed for <br/>AI workflow <br/>builders
                            </h3>
                        </div>
                    </div>

                    <!-- Right Column -->
                    <div class="lg:col-span-7 pt-20 lg:pt-32">
                        <p class="text-2xl text-[#1E1F2B] leading-relaxed font-light tracking-tight mb-10 max-w-2xl">
                            Build AI apps, actions, and agents in Workflow Builder — an intuitive workspace designed with next-gen AI builders in mind.
                        </p>
                        <div class="mb-8">
                            <div class="toggle-pill">
                                <div class="toggle-option active">Video</div>
                                <div class="toggle-option inactive">Details</div>
                            </div>
                        </div>
                        <div class="w-full aspect-[16/10] bg-white border border-black/10 rounded-lg shadow-sm overflow-hidden relative group cursor-pointer">
                            <div class="absolute inset-0 bg-[#F5F5F5] flex items-center justify-center transition-colors group-hover:bg-[#f0f0f0]">
                                <div class="text-center">
                                    <div class="w-16 h-16 rounded-full bg-[#1E1F2B] text-white flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:scale-110 transition-transform">
                                        <i data-lucide="play" class="w-6 h-6 fill-current ml-1"></i>
                                    </div>
                                    <span class="text-sm font-mono text-gray-400 uppercase tracking-widest">Watch Demo</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- =======================
             Feature 0.2: Evals
             ======================= -->
        <div id="feature-2" class="feature-block py-24 px-6 md:px-12 lg:px-24 border-b border-[#DEDEDE]/50 min-h-screen flex items-center">
            <div class="max-w-[1600px] mx-auto w-full">
                <div class="grid grid-cols-1 lg:grid-cols-12 gap-12 lg:gap-24">
                    
                    <div class="lg:col-span-5 relative h-full">
                        <div class="sticky-feature-header flex flex-col gap-8">
                            
                            <div class="index-anim-container flex items-center w-full text-lg md:text-xl font-light text-[#454256] select-none">
                                <span class="opacity-50">0.1</span>
                                <span class="w-3 h-px bg-current mx-2 opacity-50"></span>
                                <span class="text-[#1E1F2B] font-medium mr-4">[0.2]</span>
                                <div class="index-line h-px bg-[#1E1F2B] flex-grow mx-4 opacity-50 origin-left"></div>
                                <div class="flex items-center gap-2 opacity-50 text-sm md:text-lg">
                                    <span>0.3</span>
                                    <span class="w-3 h-px bg-current"></span>
                                    <span>0.4</span>
                                </div>
                            </div>

                            <h3 class="text-5xl md:text-6xl lg:text-7xl text-[#1E1F2B] leading-[1.05] tracking-tight">
                                Evaluate and <br/>ship with <br/>confidence
                            </h3>
                        </div>
                    </div>

                    <div class="lg:col-span-7 pt-20 lg:pt-32">
                        <p class="text-2xl text-[#1E1F2B] leading-relaxed font-light tracking-tight mb-10 max-w-2xl">
                            Ready your AI-driven workflows for production and iteratively improve them with end-to-end evaluation tooling.
                        </p>
                        <div class="mb-8">
                            <div class="toggle-pill">
                                <div class="toggle-option active">Video</div>
                                <div class="toggle-option inactive">Details</div>
                            </div>
                        </div>
                        <div class="w-full aspect-[16/10] bg-white border border-black/10 rounded-lg shadow-sm overflow-hidden relative group">
                            <div class="absolute inset-0 bg-[#F5F5F5] flex items-center justify-center">
                                <div class="text-[#AAAAAA]/20 text-8xl font-thin tracking-tighter">EVALS</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- =======================
             Feature 0.3: OSDK
             ======================= -->
        <div id="feature-3" class="feature-block py-24 px-6 md:px-12 lg:px-24 min-h-screen flex items-center">
            <div class="max-w-[1600px] mx-auto w-full">
                <div class="grid grid-cols-1 lg:grid-cols-12 gap-12 lg:gap-24">
                    
                    <div class="lg:col-span-5 relative h-full">
                        <div class="sticky-feature-header flex flex-col gap-8">
                            
                            <div class="index-anim-container flex items-center w-full text-lg md:text-xl font-light text-[#454256] select-none">
                                <span class="opacity-50">0.1</span>
                                <span class="w-3 h-px bg-current mx-2 opacity-50"></span>
                                <span class="opacity-50">0.2</span>
                                <span class="w-3 h-px bg-current mx-2 opacity-50"></span>
                                <span class="text-[#1E1F2B] font-medium mr-4">[0.3]</span>
                                <div class="index-line h-px bg-[#1E1F2B] flex-grow mx-4 opacity-50 origin-left"></div>
                                <div class="flex items-center gap-2 opacity-50 text-sm md:text-lg">
                                    <span>0.4</span>
                                </div>
                            </div>

                            <h3 class="text-5xl md:text-6xl lg:text-7xl text-[#1E1F2B] leading-[1.05] tracking-tight">
                                Accelerated <br/>AI application <br/>development
                            </h3>
                        </div>
                    </div>

                    <div class="lg:col-span-7 pt-20 lg:pt-32">
                        <p class="text-2xl text-[#1E1F2B] leading-relaxed font-light tracking-tight mb-10 max-w-2xl">
                            Ontology SDK anchors software development in the operational truth of the enterprise.
                        </p>
                        <div class="mb-8">
                            <div class="toggle-pill">
                                <div class="toggle-option active">Video</div>
                                <div class="toggle-option inactive">Details</div>
                            </div>
                        </div>
                        <div class="w-full aspect-[16/10] bg-white border border-black/10 rounded-lg shadow-sm overflow-hidden relative">
                            <div class="absolute inset-0 bg-[#F5F5F5] grid grid-cols-2 grid-rows-2 gap-px p-1">
                                <div class="bg-white rounded-sm"></div>
                                <div class="bg-white rounded-sm"></div>
                                <div class="bg-white rounded-sm"></div>
                                <div class="bg-white rounded-sm flex items-center justify-center text-xs text-gray-300">SDK</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="h-40"></div>
    </main>

    <script>
        lucide.createIcons();

        document.addEventListener('DOMContentLoaded', () => {
            const track = document.getElementById('narrativeTrack');
            const el1 = document.getElementById('anim-text-1'); 
            const el2 = document.getElementById('anim-text-2'); 
            const elBottom = document.getElementById('anim-group-bottom');

            // --- 1. Feature Observer for Index Animation (UPDATED: Reversible) ---
            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.3 // Trigger when 30% visible
            };

            const featureObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        // Add class on Enter
                        entry.target.classList.add('feature-active');
                    } else {
                        // Remove class on Exit (Reversible animation)
                        entry.target.classList.remove('feature-active');
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.feature-block').forEach(block => {
                featureObserver.observe(block);
            });


            // --- 2. Narrative Section Logic ---
            function splitTextToChars(element, baseDelay = 0) {
                const text = element.innerText;
                element.innerHTML = '';
                const words = text.split(' ');
                
                let charTotalIndex = 0; 

                words.forEach((word, index) => {
                    const wordSpan = document.createElement('span');
                    wordSpan.style.display = 'inline-block';
                    wordSpan.style.whiteSpace = 'nowrap';
                    
                    word.split('').forEach(char => {
                        const charSpan = document.createElement('span');
                        charSpan.className = 'char';
                        charSpan.textContent = char;
                        charSpan.style.transitionDelay = `${baseDelay + (charTotalIndex * 30)}ms`;
                        
                        wordSpan.appendChild(charSpan);
                        charTotalIndex++;
                    });

                    element.appendChild(wordSpan);
                    
                    if (index < words.length - 1) {
                        const space = document.createTextNode(' ');
                        element.appendChild(space);
                    }
                });
            }

            splitTextToChars(el1);

            const startColor = { r: 30, g: 31, b: 43 };   
            const endColor = { r: 242, g: 242, b: 242 }; 
            const textStartColor = { r: 255, g: 255, b: 255 }; 
            const textEndColor = { r: 30, g: 31, b: 43 };   

            function interpolateColor(start, end, factor) {
                const r = Math.round(start.r + (end.r - start.r) * factor);
                const g = Math.round(start.g + (end.g - start.g) * factor);
                const b = Math.round(start.b + (end.b - start.b) * factor);
                return `rgb(${r}, ${g}, ${b})`;
            }

            const mapRange = (value, inMin, inMax, outMin, outMax) => {
                if (value < inMin) return outMin;
                if (value > inMax) return outMax;
                return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);
            };

            function handleScroll() {
                const rect = track.getBoundingClientRect();
                const windowHeight = window.innerHeight;
                
                const trackTop = rect.top;
                const trackHeight = rect.height;
                const scrollDistance = trackHeight - windowHeight;
                
                let progress = -trackTop / scrollDistance;
                progress = Math.max(0, Math.min(1, progress));

                const bgFactor = mapRange(progress, 0.2, 0.45, 0, 1);
                track.style.backgroundColor = interpolateColor(startColor, endColor, bgFactor);

                const textFactor = mapRange(progress, 0.25, 0.45, 0, 1);
                el1.style.color = interpolateColor(textStartColor, textEndColor, textFactor);

                if (progress > 0.15) el1.classList.add('revealed');
                else el1.classList.remove('revealed'); 

                if (progress > 0.40) el2.classList.add('revealed');
                else el2.classList.remove('revealed');
                
                if (progress > 0.50) el2.classList.add('gradient-active');
                else el2.classList.remove('gradient-active');

                if (progress > 0.65) elBottom.classList.add('revealed');
                else elBottom.classList.remove('revealed');
            }

            window.addEventListener('scroll', handleScroll, { passive: true });
            handleScroll(); 
        });
    </script>
</body>
</html>