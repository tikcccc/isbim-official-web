/* ========================================
   CONTACT PAGE DESIGN TOKENS
   Based on Product Template design language (purple→cyan gradient)
   Preserves architectural/BIM aesthetic from prototype
   ======================================== */

@layer base {
  :root {
    /* Contact page palette - aligned with Product Template */
    --contact-bg: #f7f7f9;           /* align with product light gray */
    --contact-text: var(--text-primary);         /* unified dark text */
    --contact-text-light: var(--text-primary);   /* unify to same dark tone */
    --contact-muted: #6b7280;        /* gray-500 */
    --contact-muted-light: #9ca3af;  /* gray-400 */
    --contact-muted-lighter: #d1d5db; /* gray-300 */
    --contact-border: #e5e7eb;       /* gray-200 */
    --contact-border-light: #f3f4f6; /* gray-100 */

    /* Product Template accent colors (desaturated) */
    --contact-accent: #0ea5e9;       /* refined cyan */
    --contact-accent-alt: #0f172a;   /* deep navy */
    --contact-gradient: linear-gradient(120deg, #0f172a 0%, #0ea5e9 100%);

    /* Panel styles */
    --contact-panel-bg: rgba(255, 255, 255, 0.92);
    --contact-panel-border: #f3f4f6;
    --contact-panel-shadow: 0 25px 70px -30px rgba(15, 23, 42, 0.25);

    /* Grid/technical background */
    --contact-grid-color: rgba(100, 116, 139, 0.025); /* lighter grid for #f2f2f2 bg */
    --contact-grid-size: 48px;

    /* Selection */
    --contact-selection-bg: #ccfbf1;  /* teal-100 */
    --contact-selection-text: #0f766e; /* teal-700 */

    /* Layout / spacing */
    --contact-container-max: 1200px;
    --contact-container-padding: clamp(1.25rem, 4vw, 2.5rem);
    --contact-section-padding: clamp(4.5rem, 7vw, 6.5rem);
    --contact-hero-padding-top: clamp(6.5rem, 9vw, 8rem);
    --contact-hero-padding-bottom: clamp(4.5rem, 6vw, 6rem);
    --contact-layout-gap: clamp(2.5rem, 5vw, 6rem);
    --contact-stack-lg: clamp(2.5rem, 3vw, 3rem);
    --contact-stack-md: clamp(1.75rem, 2.5vw, 2.25rem);
    --contact-stack-sm: clamp(1rem, 1.5vw, 1.25rem);
    --contact-form-gap-x: clamp(2.5rem, 3vw, 3rem);
    --contact-form-gap-y: clamp(1.5rem, 2vw, 2rem);
    --contact-form-padding: clamp(1.75rem, 3vw, 3rem);
    --contact-input-padding-y: 0.85rem;
    --contact-underline-duration: 0.5s;
    --contact-underline-height: 1px;

    /* Shape / elevation */
    --contact-radius-md: 12px;
    --contact-radius-lg: 18px;
    --contact-radius-pill: 999px;
    --contact-shadow-strong: 0 24px 70px -36px rgba(15, 23, 42, 0.4);
    --contact-shadow-soft: 0 16px 40px -32px rgba(15, 23, 42, 0.3);

    /* Motion */
    --contact-motion-fast: 180ms;
    --contact-motion-base: 260ms;
    --contact-motion-slow: 600ms;
    --contact-motion-delay-hero: 120ms;
    --contact-motion-delay-sub: 240ms;
    --contact-motion-ease: cubic-bezier(0.33, 1, 0.68, 1);
    --contact-motion-ease-soft: cubic-bezier(0.22, 0.61, 0.36, 1);
  }
}

@layer components {
  /* ========================================
   * TYPOGRAPHY
   * ======================================== */

  .contact-hero-title {
    font-family: var(--font-heading-en);
    font-size: clamp(3rem, 6vw, 6rem);
    font-weight: 300;
    line-height: 0.95;
    letter-spacing: -0.035em;
  }

  .contact-hero-subtitle {
    font-family: var(--font-body-en);
    font-size: clamp(1.125rem, 2vw, 1.5rem);
    font-weight: 300;
    line-height: 1.6;
  }

  .contact-heading {
    font-family: var(--font-heading-en);
    font-size: clamp(1.5rem, 2.5vw, 2.5rem);
    font-weight: 600;
    line-height: 1.2;
    letter-spacing: -0.015em;
  }

  .contact-location-title {
    font-family: var(--font-body-en);
    font-size: clamp(0.95rem, 1.3vw, 1.1rem);
    font-weight: 500;
    line-height: 1.4;
    color: var(--contact-text-light);
  }

  .contact-body {
    font-family: var(--font-body-en);
    font-size: clamp(1rem, 1.5vw, 1.125rem);
    font-weight: 300;
    line-height: 1.7;
    color: var(--contact-text-light);
  }

  .contact-body-small {
    font-family: var(--font-body-en);
    font-size: 0.95rem;
    font-weight: 300;
    line-height: 1.6;
    color: var(--contact-muted);
  }

  .contact-label {
    font-family: var(--font-body-en);
    font-size: 0.75rem;
    font-weight: 700;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    line-height: 1.2;
    color: var(--contact-muted);
  }

  .contact-label-sm {
    font-family: var(--font-body-en);
    font-size: 0.65rem;
    font-weight: 700;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    line-height: 1.2;
    color: var(--contact-muted);
  }

  .contact-emphasis {
    font-family: var(--font-body-en);
    font-size: clamp(1rem, 1.4vw, 1.125rem);
    font-weight: 500;
    letter-spacing: 0;
    line-height: 1.5;
    color: var(--contact-text-light);
  }

  .contact-button-label {
    font-family: var(--font-body-en);
    font-size: 0.8rem;
    font-weight: 700;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    line-height: 1.2;
    color: #f8fafc;
  }

  /* Page wrapper */
  .contact-page {
    @apply min-h-screen w-full relative overflow-x-hidden;
    background: var(--contact-bg);
    color: var(--contact-text);
    font-family: var(--font-body-en);
  }

  .contact-page::selection,
  .contact-page *::selection {
    background: var(--contact-selection-bg);
    color: var(--contact-selection-text);
  }

  /* Technical grid background */
  .contact-grid-bg {
    background-image:
      linear-gradient(var(--contact-grid-color) 1px, transparent 1px),
      linear-gradient(90deg, var(--contact-grid-color) 1px, transparent 1px);
    background-size: var(--contact-grid-size) var(--contact-grid-size);
  }

  /* Glass panel (form container) */
  .contact-panel {
    background: var(--contact-panel-bg);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 2px solid var(--contact-panel-border);
    box-shadow: var(--contact-panel-shadow);
  }

  /* Gradient text effect (matches product template) */
  .contact-gradient-text {
    background: var(--contact-gradient);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  /* Hero title with sweep color animation */
  .contact-hero-title {
    /* 初始状态：深色文字，和副标题一致 */
    color: var(--contact-text);
  }

  .contact-hero-title.is-animating {
    /* 渐变从深色过渡到主题渐变色 */
    background: linear-gradient(
      90deg,
      var(--contact-accent-alt) 0%,
      var(--contact-accent) 50%,
      var(--contact-text) 50%,
      var(--contact-text) 100%
    );
    background-size: 200% 100%;
    background-position: 100% 0;
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: contact-color-sweep 0.6s ease-out forwards;
  }

  @keyframes contact-color-sweep {
    0% {
      background-position: 100% 0;
    }
    100% {
      background-position: 0% 0;
    }
  }

  /* Gradient background */
  .contact-gradient-bg {
    background: var(--contact-gradient);
  }

  /* Accent underline with hover animation */
  .contact-accent-underline {
    position: relative;
    display: inline-block;
  }

  .contact-accent-underline::after {
    content: '';
    position: absolute;
    left: 0;
    bottom: 0;
    width: 100%;
    height: 1px;
    background: var(--contact-accent);
    transform: scaleX(0);
    transform-origin: left;
    transition: transform 0.3s ease;
  }

  .contact-accent-underline:hover::after {
    transform: scaleX(1);
  }

  /* CAD corner markers */
  .contact-cad-corner {
    @apply absolute w-8 h-8;
    opacity: 0.5;
    border-color: var(--contact-muted-lighter);
  }

  .contact-cad-corner--tl {
    @apply top-10 left-10 border-t-2 border-l-2;
  }

  .contact-cad-corner--tr {
    @apply top-10 right-10 border-t-2 border-r-2;
  }

  .contact-cad-corner--bl {
    @apply bottom-10 left-10 border-b-2 border-l-2;
  }

  .contact-cad-corner--br {
    @apply bottom-10 right-10 border-b-2 border-r-2;
  }

  /* Info badge (Address, Digital Link, etc.) */
  .contact-badge {
    @apply px-2 py-1 rounded;
    font-family: var(--font-body-en);
    font-size: 0.65rem;
    font-weight: 700;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    background: var(--contact-border-light);
    color: var(--contact-muted);
  }

  /* Text-only label with underline animation (location/connection) */
  .contact-info-text {
    @apply relative inline-flex items-center transition-all duration-300;
    font-family: var(--font-body-en);
    font-size: 0.65rem;
    font-weight: 700;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    color: var(--contact-muted);
  }

  .contact-info-text::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: -4px;
    height: 1px;
    width: 0;
    background: var(--contact-accent);
    transition: width 0.35s ease;
  }

  .group:hover .contact-info-text {
    color: var(--contact-text);
    letter-spacing: 0.18em;
  }

  .group:hover .contact-info-text::after {
    width: 100%;
  }

  /* Form input underline style */
  .contact-input {
    @apply w-full bg-transparent border-b placeholder-slate-300 focus:outline-none transition-colors rounded-none;
    font-family: var(--font-body-en);
    font-size: 1.125rem;
    border-color: var(--contact-muted-lighter);
    color: var(--contact-text-light);
    padding-block: var(--contact-input-padding-y);
    transition-duration: var(--contact-motion-base);
    transition-timing-function: var(--contact-motion-ease);
  }

  .contact-input:focus {
    border-color: var(--contact-accent);
  }

  /* Form select - aligned with underline inputs */
  .contact-select {
    @apply w-full pr-10 pl-0 text-lg border-b rounded-none transition-all appearance-none bg-transparent;
    border-color: var(--contact-muted-lighter);
    color: var(--contact-text-light);
    padding-block: var(--contact-input-padding-y);
    transition-duration: var(--contact-motion-base);
    transition-timing-function: var(--contact-motion-ease);
  }

  .contact-select:hover {
    border-color: var(--contact-accent-alt);
  }

  .contact-select-content {
    @apply rounded-sm border shadow-xl;
    border-color: var(--contact-muted-lighter);
    background: rgba(255, 255, 255, 0.95);
  }

  .contact-select-item {
    @apply text-base py-2 px-3 rounded-sm transition-colors cursor-pointer;
    color: var(--contact-text-light);
  }

  .contact-select-item:hover {
    background: rgba(14, 165, 233, 0.08);
    color: var(--contact-text);
  }

  .contact-select-item[data-state="checked"] {
    background: rgba(14, 165, 233, 0.12);
    color: var(--contact-text);
  }

  .contact-select:focus {
    outline: none;
    border-color: var(--contact-accent);
    background: transparent;
  }

  /* Form label */
  .contact-label {
    @apply block text-[10px] font-bold uppercase tracking-widest mb-2 transition-colors;
    color: var(--contact-muted);
    transition-duration: var(--contact-motion-base);
    transition-timing-function: var(--contact-motion-ease);
  }

  .group:focus-within .contact-label {
    color: var(--contact-accent);
  }

  /* Primary button */
  .contact-btn-primary {
    @apply relative font-medium tracking-wide transition-all overflow-hidden;
    background: var(--contact-text);
    color: white;
    isolation: isolate;
    box-shadow: 0 10px 24px -16px rgba(15, 23, 42, 0.35);
    padding-inline: clamp(1.25rem, 3vw, 1.75rem);
    padding-block: clamp(0.7rem, 1.5vw, 0.95rem);
    border-radius: var(--contact-radius-pill);
    transition-duration: var(--contact-motion-base);
    transition-timing-function: var(--contact-motion-ease);
  }

  .contact-btn-primary:hover {
    background: var(--contact-text);
    box-shadow: 0 14px 32px -18px rgba(14, 165, 233, 0.4);
  }

  .contact-btn-primary > span {
    @apply relative z-10;
  }

  /* Vertical accent line (for info blocks) */
  .contact-vertical-line {
    @apply absolute -left-6 top-0 bottom-0 w-px transition-colors duration-500;
    background: linear-gradient(to bottom, transparent, var(--contact-muted-lighter), transparent);
  }

  .group:hover .contact-vertical-line {
    background: linear-gradient(to bottom, transparent, var(--contact-accent), transparent);
  }

  /* Map container styles */
  .contact-map-container {
    @apply relative w-full h-72 rounded-sm overflow-hidden border shadow-inner;
    border-color: var(--contact-muted-lighter);
    background: var(--contact-border-light);
  }

  .contact-map-btn {
    @apply absolute bottom-4 right-4 text-white text-[10px] font-bold uppercase tracking-wider px-4 py-3 rounded shadow-lg flex items-center gap-2 transition-all;
    background: rgba(15, 23, 42, 0.9);
    backdrop-filter: blur(4px);
    transition-duration: var(--contact-motion-base);
    transition-timing-function: var(--contact-motion-ease-soft);
  }

  .contact-map-btn:hover {
    background: var(--contact-accent);
  }

  /* Architectural hatching pattern */
  .contact-hatching {
    @apply absolute opacity-10;
    pointer-events: none !important;
    z-index: 0;
    background-image: repeating-linear-gradient(
      45deg,
      var(--contact-muted-light) 0,
      var(--contact-muted-light) 1px,
      transparent 0,
      transparent 8px
    );
  }

  .contact-hatching--tr {
    @apply top-0 right-0 w-48 h-48;
    mask-image: linear-gradient(to bottom left, black, transparent);
    -webkit-mask-image: linear-gradient(to bottom left, black, transparent);
  }

  .contact-hatching--bl {
    @apply bottom-0 left-2 w-48 h-48;
    mask-image: linear-gradient(to top right, black, transparent);
    -webkit-mask-image: linear-gradient(to top right, black, transparent);
  }

  /* Icon tint for info column */
  .contact-icon {
    color: rgba(79, 89, 107, 0.55);
  }

  /* Heavy structural border */
  .contact-structural-border {
    @apply absolute left-0 top-0 bottom-0 w-2 transition-colors;
    background: var(--contact-border);
    pointer-events: none;
    z-index: 0;
  }

  .group:hover .contact-structural-border {
    background: var(--contact-muted-lighter);
  }

  /* Section divider */
  .contact-section-divider {
    @apply border-b-2 pb-6;
    border-color: var(--contact-border);
  }

  .contact-title-border {
    @apply absolute;
    left: 0;
    top: 0;
    bottom: 4px;
    width: 3px;
    background: linear-gradient(
      180deg,
      var(--contact-accent-alt) 0%,
      rgba(14, 165, 233, 0.6) 50%,
      rgba(14, 165, 233, 0) 100%
    );
    border-radius: 9999px;
    box-shadow: 0 12px 30px -14px rgba(14, 165, 233, 0.5);
    pointer-events: none;
  }

  /* Utility extensions */
  .contact-text-primary { color: var(--contact-text); }
  .contact-text-muted { color: var(--contact-muted); }
  .contact-text-subtle { color: var(--contact-muted-light); }
  .contact-text-accent { color: var(--contact-accent); }

  .contact-container {
    width: 90%;
    max-width: var(--contact-container-max);
    margin-left: auto;
    margin-right: auto;
    padding-inline: var(--contact-container-padding);
  }
  .contact-section-padding {
    padding-block: var(--contact-section-padding);
  }
  .contact-hero-padding {
    padding-top: var(--contact-hero-padding-top);
    padding-bottom: var(--contact-hero-padding-bottom);
  }

  .contact-radius-md { border-radius: var(--contact-radius-md); }
  .contact-radius-lg { border-radius: var(--contact-radius-lg); }
  .contact-radius-pill { border-radius: var(--contact-radius-pill); }
  .contact-shadow-strong { box-shadow: var(--contact-shadow-strong); }
  .contact-shadow-soft { box-shadow: var(--contact-shadow-soft); }

  .contact-transition-base {
    transition-duration: var(--contact-motion-base);
    transition-timing-function: var(--contact-motion-ease);
  }

  .contact-layout-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--contact-layout-gap);
  }

  .contact-stack-lg > :not([hidden]) ~ :not([hidden]) {
    margin-top: var(--contact-stack-lg);
  }
  .contact-stack-md > :not([hidden]) ~ :not([hidden]) {
    margin-top: var(--contact-stack-md);
  }
  .contact-stack-sm > :not([hidden]) ~ :not([hidden]) {
    margin-top: var(--contact-stack-sm);
  }

  .contact-form-grid {
    display: grid;
    grid-template-columns: 1fr;
    column-gap: var(--contact-form-gap-x);
    row-gap: var(--contact-form-gap-y);
  }

  .contact-panel-padding {
    padding: var(--contact-form-padding);
  }

  @media (max-width: 1024px) {
    .contact-vertical-line {
      left: 0;
    }

    .contact-hatching--tr,
    .contact-hatching--bl {
      width: 9rem;
      height: 9rem;
      opacity: 0.15;
    }

    .contact-hatching--tr {
      right: 0.5rem;
      top: 0.5rem;
    }

    .contact-hatching--bl {
      left: 0.5rem;
      bottom: 0.5rem;
    }
  }

  @media (max-width: 768px) {
    .contact-map-container {
      height: 12rem;
    }
  }

  @media (min-width: 1024px) {
    .contact-layout-grid {
      grid-template-columns: repeat(12, minmax(0, 1fr));
    }
  }

  @media (min-width: 768px) {
    .contact-form-grid {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }
}
