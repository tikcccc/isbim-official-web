/* =========================================
   PRODUCT TEMPLATE COMPONENT LAYER
   Restores legacy product template classnames
   using the new token architecture.
   Scoped to .product-page to avoid global bleed.
   ========================================= */

@layer components {
  /* ─────────────────────────────────────────
     Text Colors
     ───────────────────────────────────────── */
  :is(.product-page) .product-text-strong { color: var(--product-text-strong); }
  :is(.product-page) .product-text-body { color: var(--product-text-body); }
  :is(.product-page) .product-text-muted { color: var(--product-text-muted); }
  :is(.product-page) .product-text-subtle { color: var(--product-text-subtle); }
  :is(.product-page) .product-text-inverse { color: var(--product-text-inverse); }
  :is(.product-page) .product-text-inverse-muted { color: var(--product-text-inverse-muted); }
  :is(.product-page) .product-text-inverse-subtle { color: var(--product-text-inverse-subtle); }

  /* ─────────────────────────────────────────
     Surfaces & Borders
     ───────────────────────────────────────── */
  :is(.product-page) .product-surface-dark { background: var(--product-surface-dark); }
  :is(.product-page) .product-surface-panel {
    background: var(--product-surface-panel);
    border-color: var(--product-border-subtle);
  }
  :is(.product-page) .product-surface-card {
    background: var(--product-surface-card);
    border-color: var(--product-border-subtle);
  }

  :is(.product-page) .product-border-subtle { border-color: var(--product-border-subtle); }
  :is(.product-page) .product-border-soft { border-color: var(--product-border-soft); }
  :is(.product-page) .product-border-strong { border-color: var(--product-border-strong); }
  :is(.product-page) .product-border-inverse { border-color: var(--product-border-inverse); }

  /* ─────────────────────────────────────────
     Gradients & Overlays
     ───────────────────────────────────────── */
  :is(.product-page) .product-text-gradient {
    background: var(--product-accent-gradient);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  :is(.product-page) .product-hero-overlay-vertical { background: var(--product-hero-overlay-vertical); }
  :is(.product-page) .product-hero-overlay-horizontal { background: var(--product-hero-overlay-horizontal); }

  /* ─────────────────────────────────────────
     CTA / Buttons
     ───────────────────────────────────────── */
  :is(.product-page) .product-cta-button {
    font-family: var(--font-body);
    font-size: 0.9375rem;
    font-weight: var(--weight-bold);
    letter-spacing: 0.18em;
    text-transform: uppercase;
    line-height: 1.2;
  }
  :is(.product-page) .product-cta-button-strong {
    background: var(--product-cta-button-bg);
    color: var(--product-cta-button-text);
    border-color: transparent;
  }
  :is(.product-page) .product-cta-button-strong:hover {
    background: var(--product-accent-gradient);
    color: var(--product-cta-button-hover-text);
  }

  /* Toggles */
  :is(.product-page) .product-toggle-active {
    background: var(--product-toggle-active-bg);
    color: var(--product-text-inverse);
  }
  :is(.product-page) .product-toggle-inactive { color: var(--product-text-subtle); }
  :is(.product-page) .product-toggle-inactive:hover { color: var(--product-toggle-hover-text); }

  /* Focus ring */
  :is(.product-page) .product-focus-ring:focus-visible {
    outline: none;
    box-shadow:
      0 0 0 2px var(--product-accent-ring),
      0 0 0 4px rgba(var(--color-white-rgb) / 0.5);
  }

  /* Accents / chips */
  :is(.product-page) .product-accent-dot { background: var(--product-accent-soft); }
  :is(.product-page) .product-chip {
    background: var(--product-chip-bg);
    border-color: var(--product-chip-border);
  }

  /* Meta line helper */
  :is(.product-page) .product-meta-line { position: relative; }
  :is(.product-page) .product-meta-line::before {
    content: "";
    position: absolute;
    left: 0;
    top: 0.25rem;
    bottom: 0.25rem;
    width: 1px;
    background: var(--product-meta-line);
    opacity: 0.8;
  }

  /* ─────────────────────────────────────────
     Containers & Spacing
     ───────────────────────────────────────── */
  :is(.product-page) .product-container {
    width: 92%;
    max-width: var(--product-container-max);
    margin-left: auto;
    margin-right: auto;
    padding-inline: var(--product-container-padding);
  }
  :is(.product-page) .product-section-padding { padding-block: var(--product-section-padding); }
  :is(.product-page) .product-hero-padding {
    padding-inline: var(--product-container-padding);
    padding-bottom: var(--product-hero-padding-y);
  }
  :is(.product-page) .product-gap { gap: var(--product-gap); }
  :is(.product-page) .product-gap-sm { gap: var(--product-gap-sm); }
  :is(.product-page) .product-gap-lg { gap: var(--product-gap-lg); }
  :is(.product-page) .product-stack-sm > :not([hidden]) ~ :not([hidden]) { margin-top: var(--product-stack-sm); }
  :is(.product-page) .product-stack-md > :not([hidden]) ~ :not([hidden]) { margin-top: var(--product-stack-md); }
  :is(.product-page) .product-stack-lg > :not([hidden]) ~ :not([hidden]) { margin-top: var(--product-stack-lg); }

  @media (min-width: 768px) {
    :is(.product-page) .product-container { padding-inline: var(--product-container-padding-md); }
    :is(.product-page) .product-hero-padding { padding-inline: var(--product-container-padding-md); }
  }
  @media (min-width: 1024px) {
    :is(.product-page) .product-container { padding-inline: var(--product-container-padding-lg); }
    :is(.product-page) .product-section-padding { padding-block: var(--product-section-padding-lg); }
    :is(.product-page) .product-gap { gap: var(--product-gap-lg); }
    :is(.product-page) .product-hero-padding {
      padding-inline: var(--product-container-padding-lg);
      padding-bottom: var(--product-hero-padding-y-lg);
    }
  }
  @media (min-width: 1280px) {
    :is(.product-page) .product-container { padding-inline: var(--product-container-padding-xl); }
    :is(.product-page) .product-hero-padding { padding-inline: var(--product-container-padding-xl); }
  }

  :is(.product-page) .product-track-container {
    max-width: var(--product-hero-max);
    margin-left: auto;
    margin-right: auto;
    padding-inline: var(--product-track-padding);
  }
  @media (min-width: 768px) {
    :is(.product-page) .product-track-container { padding-inline: var(--product-track-padding-md); }
  }
  @media (min-width: 1024px) {
    :is(.product-page) .product-track-container { padding-inline: var(--product-track-padding-lg); }
  }

  /* ─────────────────────────────────────────
     Shape & Depth
     ───────────────────────────────────────── */
  :is(.product-page) .product-radius-card { border-radius: var(--product-radius-card); }
  :is(.product-page) .product-radius-lg { border-radius: var(--product-radius-lg); }
  :is(.product-page) .product-radius-pill { border-radius: var(--product-radius-pill); }
  :is(.product-page) .product-radius-overlay { border-radius: var(--product-radius-overlay); }
  :is(.product-page) .product-shadow-card { box-shadow: var(--product-shadow-card); }
  :is(.product-page) .product-shadow-soft { box-shadow: var(--product-shadow-soft); }

  /* Motion helpers */
  :is(.product-page) .product-transition-base {
    transition-duration: var(--product-motion-base);
    transition-timing-function: var(--product-motion-ease);
  }
  :is(.product-page) .product-transition-fast {
    transition-duration: var(--product-motion-fast);
    transition-timing-function: var(--product-motion-ease);
  }

  /* ─────────────────────────────────────────
     Typography
     ───────────────────────────────────────── */
  :is(.product-page) .product-hero-title {
    font-family: var(--font-heading);
    font-size: clamp(3.5rem, 8vw, 9rem);
    font-weight: var(--weight-bold);
    line-height: 0.9;
    letter-spacing: -0.045em;
  }
  :is(.product-page) .product-hero-subtitle {
    font-family: var(--font-body);
    font-size: clamp(1.125rem, 2.4vw, 1.75rem);
    font-weight: var(--weight-light);
    line-height: var(--line-relaxed);
  }
  :is(.product-page) .product-meta {
    font-family: var(--font-body);
    font-size: 0.75rem;
    font-weight: var(--weight-bold);
    letter-spacing: 0.28em;
    text-transform: uppercase;
    line-height: 1.8;
  }
  :is(.product-page) .product-meta-chip {
    font-family: var(--font-body);
    font-size: 0.75rem;
    font-weight: var(--weight-bold);
    letter-spacing: 0.18em;
    text-transform: uppercase;
  }
  :is(.product-page) .product-stage-title-light {
    font-family: var(--font-heading);
    font-size: clamp(2.5rem, 6vw, 6rem);
    font-weight: var(--weight-regular);
    line-height: 1.1;
    letter-spacing: -0.02em;
  }
  :is(.product-page) .product-stage-desc {
    font-family: var(--font-body);
    font-size: clamp(1.0625rem, 1.8vw, 1.375rem);
    font-weight: var(--weight-light);
    line-height: 1.7;
  }
  :is(.product-page) .product-body {
    font-family: var(--font-body);
    font-size: clamp(1rem, 1.6vw, 1.25rem);
    font-weight: var(--weight-regular);
    line-height: 1.6;
  }
  :is(.product-page) .product-label {
    font-family: var(--font-body);
    font-size: 0.875rem;
    font-weight: var(--weight-bold);
    letter-spacing: 0.18em;
    text-transform: uppercase;
    line-height: 1.3;
  }
  :is(.product-page) .product-label-sm {
    font-family: var(--font-body);
    font-size: 0.75rem;
    font-weight: var(--weight-bold);
    letter-spacing: 0.18em;
    text-transform: uppercase;
    line-height: 1.2;
  }
  :is(.product-page) .product-cta-title {
    font-family: var(--font-heading);
    font-size: clamp(2.5rem, 5vw, 4.5rem);
    font-weight: var(--weight-regular);
    line-height: 1.1;
    letter-spacing: -0.02em;
  }
  :is(.product-page) .product-cta-subtitle {
    font-family: var(--font-body);
    font-size: clamp(1.125rem, 2vw, 1.5rem);
    font-weight: var(--weight-light);
    line-height: 1.6;
  }

  /* Background helpers */
  :is(.product-page) .bg-product-dark { background-color: var(--product-surface-dark); }
  :is(.product-page) .bg-product-light { background-color: var(--product-surface-light); }
}
